export const taskKeywords = new Set([
  'action',
  'any_errors_fatal',
  'args',
  'async',
  'become',
  'become_exe',
  'become_flags',
  'become_method',
  'become_user',
  'changed_when',
  'check_mode',
  'collections',
  'connection',
  'debugger',
  'delay',
  'delegate_facts',
  'delegate_to',
  'diff',
  'environment',
  'failed_when',
  'ignore_errors',
  'ignore_unreachable',
  'local_action',
  'loop',
  'loop_control',
  'module_defaults',
  'name',
  'no_log',
  'notify',
  'poll',
  'port',
  'register',
  'remote_user',
  'retries',
  'run_once',
  'tags',
  'throttle',
  'timeout',
  'until',
  'vars',
  'when',
]);

export const playKeywords = new Set([
  'any_errors_fatal',
  'become',
  'become_exe',
  'become_flags',
  'become_method',
  'become_user',
  'check_mode',
  'collections',
  'connection',
  'debugger',
  'diff',
  'environment',
  'fact_path',
  'force_handlers',
  'gather_facts',
  'gather_subset',
  'gather_timeout',
  'handlers',
  'hosts',
  'ignore_errors',
  'ignore_unreachable',
  'max_fail_percentage',
  'module_defaults',
  'name',
  'no_log',
  'order',
  'port',
  'post_tasks',
  'pre_tasks',
  'remote_user',
  'roles',
  'run_once',
  'serial',
  'strategy',
  'tags',
  'tasks',
  'throttle',
  'timeout',
  'vars',
  'vars_files',
  'vars_prompt',
]);

export const roleKeywords = new Set([
  'any_errors_fatal',
  'become',
  'become_exe',
  'become_flags',
  'become_method',
  'become_user',
  'check_mode',
  'collections',
  'connection',
  'debugger',
  'delegate_facts',
  'delegate_to',
  'diff',
  'environment',
  'ignore_errors',
  'ignore_unreachable',
  'module_defaults',
  'name',
  'no_log',
  'port',
  'remote_user',
  'run_once',
  'tags',
  'throttle',
  'timeout',
  'vars',
  'when',
]);

export const blockKeywords = new Set([
  'always',
  'any_errors_fatal',
  'become',
  'become_exe',
  'become_flags',
  'become_method',
  'become_user',
  'block',
  'check_mode',
  'collections',
  'connection',
  'debugger',
  'delegate_facts',
  'delegate_to',
  'diff',
  'environment',
  'ignore_errors',
  'ignore_unreachable',
  'module_defaults',
  'name',
  'no_log',
  'notify',
  'port',
  'remote_user',
  'rescue',
  'run_once',
  'tags',
  'throttle',
  'timeout',
  'vars',
  'when',
]);

export const playExclusiveKeywords = new Set(
  [...playKeywords].filter(
    (k) => !taskKeywords.has(k) && !roleKeywords.has(k) && !blockKeywords.has(k)
  )
);

export function isTaskKeyword(value: string): boolean {
  return taskKeywords.has(value) || value.startsWith('with_');
}
